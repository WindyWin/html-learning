<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- <link href="/output.css" rel="stylesheet"> -->
  <style>

  </style>
  <link rel="stylesheet" href="./style.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Vite App</title>
</head>

<body>
  <div id="font-sans root ">
    <div class="h-scroll bg-colors fixed -z-50 top-0 left-0  h-screen overflow-hidden flex w-[300%] ">
      <div class="bg-[#C9E78A] w-screen h-screen"></div>
      <div class="bg-[#FFB2B2] w-screen h-screen"></div>
      <div class="bg-[#C1BFF2] w-screen h-screen"></div>
    </div>
    <header class="pt-6 px-7 flex justify-between fixed w-full ">
      <div class="logo text-[#03403F] text-4xl font-bold ">Fruity</div>
      <nav>
        <ul class="flex gap-[60px] w-fit">
          <li>
            <a href="">Shop</a>
          </li>
          <li>
            <a href="">About</a>
          </li>
          <li><a href="">Career</a></li>
          <li><a href="">Partnership</a></li>
          <li><a href="">Contact</a></li>
        </ul>
      </nav>
      <div class="flex gap-5">
        <a href="">My cart</a>
        <span>|</span>
        <a href="">Register</a>
      </div>
    </header>

    <main class="relative flex justify-center h-screen items-center">
      <div 
      class="can-container h-fit w-fit   relative overflow-hidden "

      >
        <img src="./assets/images/can.png" alt="">
        <div class="can__bg-scroll can-poster w-[300%] h-full absolute mix-blend-multiply top-0 left-0">
          <div class="pt-20 px-[38px] flex w-full items-center mix-blend-multiply">
            <div class="bg-[#E6FFDE] py-6 w-[calc(33.333%-19px)] h-full flex justify-center items-center"><img
                src="./assets/images/pear-can-poster.png" alt=""></div>
            <div class="bg-[#F2675A] py-6 w-[calc(33.333%-19px)]  h-full flex justify-center items-center"><img
                src="./assets/images/apple-can-poster.png" alt=""></div>
            <div class="bg-[#9691F2] py-6 w-[calc(33.333%-19px)]  h-full flex justify-center items-center"><img
                src="./assets/images/Exotic-can-poster.png" alt=""></div>
          </div>
        </div>
      </div>
      <div class="v-scroll fruit-images fixed w-full h-[calc(100vh -90px)] -z-30 overflow-hidden flex gap-20 flex-col"
        style="top:calc(90px - 100%)">
        <img class="h-full" src="./assets/images/Pears.png" alt="">
        <img class="h-full" src="./assets/images/Apples.png" alt="">
        <img class="h-full" src="assets/images/Passion_fruit.png" alt="">
      </div>
      <div
        class=" fixed top-0 w-screen  h-screen -z-40 fruit-text text-center font-display text-[450px] font-semibold text-white">
        <p class="pear ">Pear</p>
        <p class="apple hidden">Apple</p>
        <p class="exotic hidden">Exotic</p>
      </div>
    </main>
  </div>
</body>
<script>
  let currentState = 1;
  const verticalScroll = document.querySelectorAll(".v-scroll")
  const horizontalScroll = document.querySelectorAll(".h-scroll")
  const canBGScroll = document.querySelector(".can__bg-scroll")
  const fruitTexts = document.querySelectorAll(".fruit-text p")
  let timer;

  // let horizontalScrollClasses = [
  //   "horizontalScroll1",
  //   "horizontalScroll2", 
  //   "horizontalScroll3"
  // ]

  let animationStarted = false;

  const changeState = (scrollDirection) => {
    let previousState = currentState;
    if (scrollDirection)
      currentState = currentState === 2 ? 0 : currentState + 1;
    else {
      currentState = currentState === 0 ? 2 : currentState - 1;
    }
    verticalScroll.forEach(e => {
      // console.log(e)
      e.style.top = `calc(90px - ${currentState}00% )`

    })
    horizontalScroll.forEach(e => {

      e.style.transform = `translateX(-${currentState*1/3*100}%)`

    })
    fruitTexts.forEach((e, i) => {
      e.classList.add("hidden")
      if (i === currentState)
        e.classList.remove("hidden")
    })

    canBGScroll.style.transform= `translateX( - ${currentState*1/3*100}% + ${38 + currentState*19}px)`
  }

  window.onwheel = function (e) {
    const scrollDirection = e.deltaY === 100; // true = down / false =up
    console.log(currentState)
    changeState(scrollDirection)

  }


</script>

</html>